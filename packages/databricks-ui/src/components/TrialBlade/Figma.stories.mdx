import { useState, useEffect } from "react"
import { Meta, Story, Props, Preview } from "@storybook/addon-docs"
import TrialBlade from "."
import Wrapper from "../Wrapper"

<Meta
  title='COMPONENTS/Wrapper/Trial Blade'
  component={TrialBlade}
/>

# Trial Blade

This is a row that can be inserted anywhere on a page to provide a large and prominent Trial form/CTA

## Props

<Props of={TrialBlade} />

<Preview>
  <Story name='Trial Blade'>
    {(args) => {
      const [trialBladeData, setTrialBladeData] = useState(false)
      useEffect(() => {
        fetch(`/trialBlade`)
          .then((res) => res.json())
          .then(({data}) => {
            setTrialBladeData(data)
        })
      }, [])
      if (!trialBladeData) return <></>
      return (
        <TrialBlade
          title={trialBladeData.title}
          subtitle={trialBladeData.subtitle}
          listItems={trialBladeData.items}
          entity={trialBladeData.entity}
        />
      )
    }}
  </Story>
</Preview>
