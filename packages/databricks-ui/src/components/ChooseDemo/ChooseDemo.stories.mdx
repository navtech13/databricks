import { useState, useEffect } from "react"
import { Meta, Story, Props, Preview } from "@storybook/addon-docs"
import ChooseDemo from "."

<Meta
  title='components/Navigation/Prefooter CTA'
  component={ChooseDemo}
  argTypes={{
    ctas: {
      table: {
        disable: true,
      },
    },
  }}
/>

# ChooseDemo component

## Props

<Props of={ChooseDemo} />

<Preview>
  <Story name='Prefooter CTA'>
    {(args) => {
      const [data, setData] = useState([])
      useEffect(() => {
        document.getElementById("root").firstChild.style.maxWidth = "unset"
        fetch("/chooseDemo")
          .then((res) => res.json())
          .then(({ data }) => setData(data))
      }, [])
      return (
        <div className='bg-navy-800 pb-4'>
          <ChooseDemo
            title={args.title || data.title}
            description={args.description || data.description}
            ctas={data.ctas}
          />
        </div>
      )
    }}
  </Story>
</Preview>
