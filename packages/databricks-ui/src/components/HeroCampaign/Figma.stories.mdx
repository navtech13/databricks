import { useState, useEffect } from "react"
import { Meta, Story, Props, Preview } from "@storybook/addon-docs"
import HeroCampaign from "."

<Meta
  title='COMPONENTS/Hero/Campaign Page Hero'
  component={HeroCampaign}
  argTypes={{
    title: {
      name: "Header",
      control: { type: "text" },
    },
    description: {
      name: "Description",
      control: { type: "text" },
    },
    eyebrow: {
      name: "Eyebrown",
      control: { type: "text" },
    },
    src: {
      name: "Image src",
      control: { type: "text" },
    },
    image: { table: { disable: true } },
  }}
/>

# HeroCampaign

HeroCampaign component hosts a header, eyebrown, description and Image.

## Props

<Props of={HeroCampaign} />

### HeroCampaign

<Preview>
  <Story name='Campaign Page Hero'>
    {(args) => {
      const [heroCampaign, setHeroCampaign] = useState(null)
      useEffect(() => {
        fetch(`/heroCampaign`)
          .then((response) => response.json())
          .then(({ data }) => setHeroCampaign(data))
      }, [])
      if (!heroCampaign) {
        return <></>
      }
      return (
        <HeroCampaign
          eyebrow={args.eyebrow || heroCampaign.eyebrow}
          title={args.title || heroCampaign.title}
          description={args.description || heroCampaign.text}
          image={{
            src: args.src || heroCampaign.image.src,
            alt: heroCampaign.image.alt,
          }}
        />
      )
    }}
  </Story>
</Preview>
