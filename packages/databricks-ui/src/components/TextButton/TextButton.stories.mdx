import { useState, useEffect } from "react"
import { Meta, Story, Props, Preview } from "@storybook/addon-docs"
import Link from "../Link"
import TextButton from "."

<Meta
  title='ELEMENTS/Buttons | Links/Text Button (Legacy)'
  component={TextButton}
  argTypes={{
    variant: { control: { type: "select" } },
    children: { name: "Label", control: { type: "text" } },
    className: { table: { disable: true } },
    to: { table: { disable: true } },
  }}
/>

# Text Button

Text button component

## Props

<Props of={TextButton} />

### Default Text Button

<Preview>
  <Story name='Text Button (Legacy)'>
    {(args) => {
      const [button, setButton] = useState(null)
      useEffect(() => {
        fetch(`/textButton`)
          .then((response) => response.json())
          .then(({ data }) => setButton(data))
      }, [args.variant])
      if (!button) {
        return <></>
      }
      return (
        <TextButton variant={args.variant} disabled={args.disabled}>
          {args.children || button.text}
        </TextButton>
      )
    }}
  </Story>
</Preview>
