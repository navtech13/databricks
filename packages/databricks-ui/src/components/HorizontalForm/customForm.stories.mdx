import { useState, useEffect } from "react"
import { Meta, Story, Props, Preview } from "@storybook/addon-docs"
import HorizontalForm from "."
import FormCustom from "../FormCustom"
export const img = "/static/images/illustration-abstract-collage.png"
export const img2 = "/static/images/illustration-nodes-3.png"

export const customFormEntity = {
  __typename: "Drupal_ParagraphCustomForm",
  uuid: "f6e46b42-7284-4e80-9a2a-f5ac4e3952f4",
  fieldCloudType: "default",
  fieldFreeTrialDisplayType: "sidebar",
  fieldBackgroundToken: null,
  fieldLink: {
    url: {
      path: "",
    },
    title: "Continue",
  },
  fieldThankYouUrl: null,
  fieldSpacings: null,
}

<Meta
  title='COMPONENTS/Form/HorizontalForm/FormCustom'
  component={HorizontalForm}
  argTypes={{
    title: {
      name: "Title",
      control: { type: "text" },
    },
    description: {
      name: "Description",
      control: { type: "text" },
    },
    body: {
      name: "Body",
      control: { type: "text" },
    },
    variant: {
      name: "Form Variant",
      control: { type: "select" },
      options: ["withBorderLine", "fullBleed"],
    },
    image: {
      table: {
        disable: true,
      },
    },
    isMktoForm: {
      table: {
        disable: true,
      },
    },
    children: {
      table: {
        disable: true,
      },
    },
  }}
/>

# HorizontalForm

## Props

<Props of={HorizontalForm} />

### HorizontalForm

<Preview>
  <Story name='fullBleed'>
    {(args) => {
      useEffect(() => {
        document.getElementById("root").firstChild.style.maxWidth = "unset"
      }, [])
      return (
        <HorizontalForm
          title={args.title || "Tell us more about yourself"}
          description={args.description || "Short description, if necessary"}
          body={args.body || ""}
          variant={args.variant || "fullBleed"}
          image={args.variant === "fullBleed" ? { src: img2 } : { src: img }}
        >
          <FormCustom entity={customFormEntity} hasOptionalFields={false} />
        </HorizontalForm>
      )
    }}
  </Story>
</Preview>

<Preview>
  <Story name='withBorderLine'>
    {(args) => {
      useEffect(() => {
        document.getElementById("root").firstChild.style.maxWidth = "unset"
      }, [])
      return (
        <HorizontalForm
          title={args.title || "Tell us more about yourself"}
          description={args.description || "Short description, if necessary"}
          body={args.body || ""}
          variant={args.variant || "withBorderLine"}
          image={args.variant === "fullBleed" ? { src: img2 } : { src: img }}
        >
          <FormCustom entity={customFormEntity} hasOptionalFields={false} />
        </HorizontalForm>
      )
    }}
  </Story>
</Preview>
